<!DOCTYPE html>
<html ng-app="opendata">
<head>
        <meta charset="ISO-8859-1">
        <title>Amsterdam OpenData</title>
        <script	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.1/angular.min.js">
        </script>
        <script src='//maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyB6SSvjmmzWA9zOVHhh4IsBbp3qqY25qas'></script>
        <script src="http://rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.min.js"></script>
        <script src="pollrestcontroller.js"></script>
        <link href="style.css" rel="stylesheet" type="text/css"/>
    </head>

<body>

<map center="52.376707, 4.896898" zoom="13" style="display: block; height: 1024px; >
 	<div ng-controller="testController">
<marker position="59.354828, 4.901243" icon="{{statusIcon}}" draggable="true" ></marker>
</div>

<div ng-controller="drawParkingIcons">
    <div ng-repeat="x in parkingList track by $index">
        <marker position="{{x.geometry.coordinates[1]}}, {{x.geometry.coordinates[0]}}" icon="{{statusIcons[$index]}}" draggable="false" on-click="showInfoWindow(event, 'bar')"  labelContent= "A"></marker>
        <info-window id="bar" visible-on-marker="foo">
            <div ng-non-bindable="">
                <div id="siteNotice"></div>
                <h1 id="firstHeading" class="firstHeading">{{x.properties.Name}}</h1>
                <div id="bodyContent">
                    <p> Vrije plekken: {{x.properties.FreeSpaceShort}} </p>
                    <p> Capaciteit: {{x.properties.ShortCapacity}}</p>
                    <p> Laatste update: {{x.properties.PubDate}} </p>
                </div>
            </div>
        </info-window>
    </div>
</div>

<div ng-controller="drawFileStateIcons">
    <div ng-repeat="x in fileContactList track by $index">
        <marker position="{{x.geometry.coordinates[1]}}, {{x.geometry.coordinates[0]}}" icon="{{statusIcons[$index]}}" draggable="true" ></marker>
    </div>
</div>


<!--  var marker = new MarkerWithLabel({
       position: homeLatLng,
       map: map,
       draggable: true,
       raiseOnDrag: true,
       labelContent: "A",
       labelAnchor: new google.maps.Point(3, 30),
       labelClass: "labels", // the CSS class for the label
       labelInBackground: false
     }); -->
<!--      var iw = new google.maps.InfoWindow({
       content: "Home For Sale"
     });
     google.maps.event.addListener(marker, "click", function (e) { iw.open(map, this); }); -->



</map>

</body>
</html>
